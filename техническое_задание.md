# Техническое задание

**Проект:** Веб-сервис аналитики маркетплейсов с ИИ-агентами  
**Цель:** Автоматизировать сбор, анализ и рекомендации для продавцов маркетплейсов (Ozon, Wildberries, Яндекс.Маркет) без участия сотрудников.

## 1. Цели и задачи проекта

- Автоматизировать сбор данных с маркетплейсов (продажи, остатки, цены, отзывы, действия конкурентов).
- Предоставить удобную аналитику в виде графиков, дашбордов и таблиц
- Дать пользователям рекомендации с использованием ИИ.
- Автоматизировать рутинные действия (изменение цен, запуск рекламы).
- Предоставить доступ через веб-интерфейс (десктоп и мобильная версия).

## 2. Функциональные требования

### 2.1. Сбор и обработка данных

**Подключение к API:**
- Ozon Seller API
- Wildberries Supplier API (с гибридным подходом: Python парсер + API)
- Яндекс.Маркет Partner API

**Сбор данных:**
- цены;
- остатки;
- продажи;
- заказы;
- отзывы и рейтинги;
- данные конкурентов (цены, скидки, ассортимент).

- Фоновое обновление каждые 10–30 минут.
- Приведение данных к единому формату в БД.

### 2.2. Аналитика и визуализация

- Отчёты по продажам (динамика, сезонность, прогнозы).
- Анализ маржинальности с учётом комиссий и логистики.
- ABC/XYZ-анализ ассортимента.
- Анализ отзывов с ИИ (выделение частых проблем и сильных сторон).
- Поиск аномалий (падение продаж, рост конкурентов).

**Визуализация:**
- графики (Chart.js / D3.js);
- дашборды;
- тепловые карты.

### 2.3. Рекомендации с ИИ

- Чат-помощник для ответов на вопросы пользователя.
- Динамическое ценообразование.
- Рекомендации по ассортименту.
- Прогнозирование спроса.
- SEO-оптимизация карточек товаров.
- Рекомендации по рекламе.

### 2.4. Автоматизация

- Автоматическая корректировка цен через API маркетплейсов.
- Запуск и остановка рекламных кампаний.
- Автоматическая генерация контента (тексты, ключевые слова, изображения).
- Уведомления через email, Telegram, WhatsApp.
- Сценарии автопилота (например, "Максимум прибыли", "Рост продаж").

### 2.5. Веб-интерфейс

- Дашборд с KPI.
- Раздел аналитики.
- Раздел рекомендаций.
- Раздел автоматизации.
- Чат с ИИ.
- Настройки интеграций.

## 3. Нефункциональные требования

- **Язык разработки:** Python (FastAPI) или Node.js (NestJS).
- **Фронтенд:** React (Next.js).
- **База данных:** Supabase.
- **Хранение файлов:** S3-совместимое хранилище.
- **Обновление данных:** Celery (Python) или BullMQ (Node.js).
- **ИИ-модели:** OpenAI API, LangChain, Stable Diffusion.
- **Хостинг:** Vercel (фронтенд), AWS/GCP/DigitalOcean (бэкенд и БД).
- **Безопасность:** HTTPS, токен-аутентификация, шифрование данных.

## 4. API-интеграции

### 4.1. Ozon API

**Документация:** https://docs.ozon.ru/api/seller/

**Авторизация:** Client-Id, Api-Key

**Методы:**
- `POST /v2/product/list` — список товаров;
- `POST /v2/product/info` — детали товара;
- `POST /v2/product/prices` — цены;
- `POST /v1/analytics/data` — аналитика продаж.

### 4.2. Wildberries API

**Документация:** https://openapi.wb.ru/

**Авторизация:** Authorization: <token>

**Гибридный подход:**
- **Основной метод:** Python парсер для обхода антибот-защиты
- **Fallback метод:** Официальный API (с ограничениями)

**Методы (через API):**
- `GET /api/v2/orders` — заказы;
- `GET /api/v2/stocks` — остатки;
- `POST /api/v2/prices` — изменение цен.

### 4.3. Яндекс.Маркет API

**Документация:** https://yandex.ru/dev/market/

**Авторизация:** OAuth-токен

**Методы:**
- `GET /campaigns/{campaignId}/orders.json` — заказы;
- `POST /campaigns/{campaignId}/offers/prices.json` — цены.

## 5. Этапы реализации
(по дорожной карте)

- **Подготовка** — 1–2 недели.
- **Сбор данных** — 3–4 недели.
- **Аналитика** — 3–5 недель.
- **ИИ-рекомендации** — 2–4 недели.
- **Автоматизация** — 3–5 недель.
- **Интерфейс** — 4–6 недель.
- **Тестирование** — 2–3 недели.
- **Запуск** — 2–3 недели.

## 6. Монетизация

- Подписка по тарифам (кол-во товаров и функций).
- Бесплатный пробный период.
- Дополнительные платные модули (реклама, прогнозы, white label).

## 7. Критерии приёмки

- Данные с маркетплейсов обновляются каждые 30 мин.
- Аналитика и графики отображаются без ошибок.
- ИИ корректно отвечает на вопросы и даёт рекомендации.
- Автоматизация цен и рекламы работает.
- Интерфейс доступен с ПК и смартфона.
- Уведомления приходят вовремя.